<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets">

<h:body>
	<ui:composition template="template_adm.xhtml">
		<ui:define name="content">

			<p:panel header=" Cadastro Criança Adolescente">
				<h:form id="formCrianca">

					<p:messages id="msgs1" showDetail="true">
						<p:effect type="pulsate" event="load" delay="500" />
					</p:messages>

					<h:panelGrid>

						<!-- Linha 1 -->
						<h:panelGrid columns="3" style="margin-top: 20px;">
						
						<p:outputLabel value="Data Cadastro :" />
						<h:inputHidden />
						<p:outputLabel value="Conselheiro :" />
							
                           
							<p:inputText value="#{MBCriancaCadastro.dataCadastro}" size="10" disabled="true" />
							<p:spacer width="10px;" />
							<p:inputText value="#{MBCriancaCadastro.conselheiro}" size="41" disabled="true" />

						</h:panelGrid>

						<!-- Linha 2 -->
						<h:panelGrid columns="7">
							<p:outputLabel value="Criança Adolescente :" />
							<h:inputHidden />
							<p:outputLabel value="CPF:" />
							<h:inputHidden />
							<p:outputLabel value="RG:" />
							<h:inputHidden />
							<p:outputLabel value="Org. Emissor:" />

							<p:inputText value="#{MBCriancaCadastro.nomeCrianAdolesc}" size="39" />
							<p:spacer width="10px;" />
							
							<p:inputMask id="cpf" value="#{MBCriancaCadastro.cpf}" mask="999.999.999-99" size="10">
							<p:ajax event="blur" listener="#{MBCriancaCadastro.validaCPF}" update="msgs1" />
							</p:inputMask>
							<p:spacer width="10px;" />
							
							<p:inputText value="#{MBCriancaCadastro.rg}" size="10" maxlength="9"  />
							<p:spacer width="10px;" />
							
							<p:selectOneMenu style="width:90px;" id="cbOrgao"
								value="#{MBCriancaCadastro.orgaoSelecionado}"
								converter="omnifaces.SelectItemsConverter" filter="true"
								filterMatchMode="contains">
								<f:selectItem noSelectionOption="true" itemLabel="Selecione  " />
								<f:selectItems
									value="#{MBCriancaCadastro.listaOrgao}"
									var="orgao" itemValue="#{orgao}"
									itemLabel="#{orgao.nome}" />
							</p:selectOneMenu>
							
						</h:panelGrid>

						<!-- Linha 3 -->
						<h:panelGrid columns="9">
							<p:outputLabel value="Cert.Nasc." />
							<h:inputHidden />
							<p:outputLabel value="Data Nasc.:" />
							<h:inputHidden />
							<p:outputLabel value="Idade:" />
							<h:inputHidden />
							<p:outputLabel value="Fone I:" />
							<h:inputHidden />
							<p:outputLabel value="Fone II:" />

							<p:inputMask mask="999999999999" value="#{MBCriancaCadastro.certNasc}" size="10" />
							<p:spacer width="11px;" />
							
							<p:calendar id="popup"
								value="#{MBCriancaCadastro.dataNascimento}" size="7" locale="br"
								navigator="true" pattern="dd/MM/yyyy" required="true"  >
								<p:ajax event="dateSelect"
									listener="#{MBCriancaCadastro.calculaIdade}" update="txtIdade" />
							</p:calendar>
							<p:spacer width="11px;" />
							
							<p:inputText id="txtIdade" disabled="true"
								value="#{MBCriancaCadastro.idade}" size="5" />
							<p:spacer width="10px;" />
							
							<p:inputMask id="fone1" value="#{MBCriancaCadastro.foneI}"
								mask="(99) 999?9-99999" size="12" />
							<p:spacer width="11px;" />
							
							<p:inputMask id="foneII" value="#{MBCriancaCadastro.foneII}"
								mask="(99) 999?9-99999" size="12" />
						</h:panelGrid>

						<!-- Linha 4 -->
						<h:panelGrid columns="7">
							<p:outputLabel value="Sexo:" />
							<h:inputHidden />
							<p:outputLabel value="Cor:" />
							<h:inputHidden />
							<p:outputLabel value="Escolaridade:" />
							<h:inputHidden />
							<p:outputLabel value="Escola:" />

							<p:selectOneRadio id="sexo" value="#{MBCriancaCadastro.sexo}"  required="true" requiredMessage="Informe o sexo" >
								<f:selectItem itemLabel="Masc." itemValue="M" />
								<f:selectItem itemLabel="Fem." itemValue="F" />
							</p:selectOneRadio>
							<p:spacer width="5px;" />
							
							<p:selectOneMenu id="cor" value="#{MBCriancaCadastro.cor}">
								<f:selectItem itemLabel="Selecione" itemValue="" noSelectionOption="true" />
								<f:selectItem itemLabel="Amarela" itemValue="AM" />
								<f:selectItem itemLabel="Branca" itemValue="BR" />
								<f:selectItem itemLabel="Indígena" itemValue="IN" />
								<f:selectItem itemLabel="Parda" itemValue="PA" />
								<f:selectItem itemLabel="Preta" itemValue="PR" />
							</p:selectOneMenu>							
							<p:spacer width="6px;" />
							
							<p:selectOneMenu style="width:160px;" id="cbGrauEscola"
								value="#{MBCriancaCadastro.escolaridade}"
								converter="omnifaces.SelectItemsConverter" filter="true"
								filterMatchMode="contains">
								<f:selectItem noSelectionOption="true" itemLabel="Selecione  " />
								<f:selectItems
									value="#{MBCriancaCadastro.listaGrauEscolaridade}"
									var="grauescolaridade" itemValue="#{grauescolaridade}"
									itemLabel="#{grauescolaridade.nome}" />
							</p:selectOneMenu>							
							<p:spacer width="6px;" />
							
							<p:selectOneMenu style="width:260px;" id="cbEscola"
								value="#{MBCriancaCadastro.escola}"
								converter="omnifaces.SelectItemsConverter" filter="true"
								filterMatchMode="contains">
								<f:selectItem noSelectionOption="true" itemLabel="Selecione" />
								<f:selectItems value="#{MBCriancaCadastro.listaInstituicao}"
									var="instituicao" itemValue="#{instituicao}"
									itemLabel="#{instituicao.fantasia}" />
							</p:selectOneMenu>
						</h:panelGrid>

						<!-- Linha 5 -->
						<h:panelGrid columns="3">
							<p:outputLabel value="Trabalha:" />
							<h:inputHidden />
							
							<p:outputLabel value="Local trabalho:" />
							<p:selectOneRadio id="trabalha"
							value="#{MBCriancaCadastro.trabalha}">
							<f:selectItem itemLabel="Sim" itemValue="S" />
							<f:selectItem itemLabel="Não" itemValue="N" />
							<p:ajax event="click" listener="#{MBCriancaCadastro.alteraCampoTrabalho}"
								update="txtTrabalha" />
						</p:selectOneRadio>
						<p:spacer width="20x;" />
						
						<p:inputText id="txtTrabalha"
							disabled="#{MBCriancaCadastro.desabilitaLocalTrabalho}"
							value="#{MBCriancaCadastro.localTrabalho}" size="45" />
						</h:panelGrid>

					</h:panelGrid>

					<h:panelGrid style="margin: 10px auto;" columns="5">
						<p:commandButton value="Ação de Terceiros"
									action="crianca_ado_busca?faces-redirect=true" rendered="#{MBCriancaCadastro.botoesDeVinculacao}" />
						<p:commandButton value="Atendimento"
									action="#{MBCriancaCadastro.navegaAtendimento}" rendered="#{MBCriancaCadastro.botoesDeVinculacao}" />
						<p:commandButton value="Responsável"
									action="#{MBCriancaCadastro.navegaResponsavel}" rendered="#{MBCriancaCadastro.botoesDeVinculacao}" />
						<p:commandButton value="Parente Menor"
									action="#{MBCriancaCadastro.navegaParenteMenor}" rendered="#{MBCriancaCadastro.botoesDeVinculacao}" />
					</h:panelGrid>
					
					<h:panelGrid style="margin: 10px auto;" columns="2">
						<p:commandButton value="Salvar" actionListener="#{MBCriancaCadastro.salvar}" update="msgs1" />
						<p:commandButton value="Voltar" action="crianca_ado_busca?faces-redirect=true" />								
					</h:panelGrid>

				</h:form>
			</p:panel>
		</ui:define>
	</ui:composition>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           
</h:body>

</html>