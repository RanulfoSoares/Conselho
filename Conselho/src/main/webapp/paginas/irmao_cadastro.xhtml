<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets">

<h:body>
	<ui:composition template="template_adm.xhtml">
		<ui:define name="content">

			<p:panel header=" Cadastro de Parente Menor">
				<h:form id="formIrmao">

					<p:messages id="msgs1" showDetail="true">
						<p:effect type="pulsate" event="load" delay="500" />
					</p:messages>
			
			        <h:panelGrid columns="4" style="margin: 18px 30px;" >						
							<h:outputText value="Ref. Criança/Adolescente:" />
							<h:outputText value="#{MBParenteMenorCadastro.nomeCriancaSelecionado}" styleClass="texto_informativo" />		
					</h:panelGrid>	
							
					<h:panelGrid>
						
						<h:panelGrid columns="3" style="margin-top: 20px;">
							<p:outputLabel value="Data de Cadastro:" />
							<h:inputHidden />							
							<p:outputLabel value="Conselheiro:" />
														
							<p:inputText value="#{MBParenteMenorCadastro.dataCadastro}" size="10" disabled="true" />
								<p:spacer width="10px;" />
							<p:inputText value="#{MBParenteMenorCadastro.conselheiro}" size="40" disabled="true" />
						
						</h:panelGrid>
							
						<!-- Linha 1 -->
						<h:panelGrid columns="6" >
							<p:outputLabel value="Nome:" />
							<h:inputHidden />
							<p:outputLabel value="Grau de Parentesco:" />
                     	    <h:inputHidden />
                     	    <p:outputLabel value="Sexo:" />
							<h:inputHidden />
                     	    
                     	    <p:inputText value="#{MBParenteMenorCadastro.parente.nomeCompleto}" size="48" />
							<p:spacer width="10px;" />
							
							<p:selectOneMenu style="width:135px;" id="grauparentesco" value="#{MBParenteMenorCadastro.grauParentescoSelecionado}" required="true" requiredMessage="Informe o Grau de Parentesco">
								<f:selectItem noSelectionOption="true" itemLabel="Selecione" />
								<f:selectItems value="#{MBParenteMenorCadastro.listaParentesco}"
								var="parentesco" itemValue="#{parentesco}"
								itemLabel="#{parentesco.nome}" />
							</p:selectOneMenu>
								<p:spacer width="10px;" />
							<p:selectOneRadio id="sexo" value="#{MBParenteMenorCadastro.parente.sexo}" required="true" requiredMessage="Informe o sexo" >
								<f:selectItem itemLabel="Masc." itemValue="M" />
								<f:selectItem itemLabel="Fem." itemValue="F" />
						    </p:selectOneRadio>
					    </h:panelGrid>

						<!-- Linha 2 -->
						<h:panelGrid columns="12">
							<p:outputLabel value="CPF:" />
							<h:inputHidden />
							<p:outputLabel value="RG:" />
							<h:inputHidden />
							<p:outputLabel value="Org. Emissor:" />
							<h:inputHidden />
							<p:outputLabel value="Cert.Nasc." />
							<h:inputHidden />
							<p:outputLabel value="Data Nasc.:" />
							<h:inputHidden />
							<p:outputLabel value="Idade:" />
							<h:inputHidden />							

							<p:inputMask id="cpf" value="#{MBParenteMenorCadastro.cpf}" mask="999.999.999-99" size="11">
								<p:ajax event="blur" listener="#{MBParenteMenorCadastro.validaCPF}" update="msgs1" />
							</p:inputMask>
							<p:spacer width="10px;" />
							
							<p:inputText value="#{MBParenteMenorCadastro.parente.rg}" size="9" maxlength="9" />
							<p:spacer width="10px;" />
							
							<p:selectOneMenu style="width:90px;" id="cbOrgao"
								value="#{MBParenteMenorCadastro.parente.orgao}"
								converter="omnifaces.SelectItemsConverter" filter="true"
								filterMatchMode="contains">
								<f:selectItem noSelectionOption="true" itemLabel="Selecione  " />
								<f:selectItems
									value="#{MBParenteMenorCadastro.listaOrgao}"
									var="orgao" itemValue="#{orgao}"
									itemLabel="#{orgao.nome}" />
							</p:selectOneMenu>
							<p:spacer width="5px;" />
							
							<p:inputText value="#{MBParenteMenorCadastro.parente.numeroCertidaoNascimento}" size="11" maxlength="12" >
								<f:convertNumber integerOnly="true" minIntegerDigits="1"  />
							</p:inputText>
							<p:spacer width="5px;" />
							
							<p:calendar id="popup"
								value="#{MBParenteMenorCadastro.dataNascimento}" size="9" locale="br"
								navigator="true" pattern="dd/MM/yyyy" required="true" requiredMessage="Informe a data de nascimento" >
								<p:ajax event="dateSelect"
									listener="#{MBParenteMenorCadastro.calculaIdade}" update="txtIdade" />
							</p:calendar>
							<p:spacer width="10px;" />
							
							<p:inputText id="txtIdade" disabled="true" value="#{MBParenteMenorCadastro.idade}" size="3" />
							<p:spacer width="10px;" />
						</h:panelGrid>

						<!-- Linha 3 -->
						<h:panelGrid columns="8">
						    <p:outputLabel value="Cor:" />
							<h:inputHidden />
							<p:outputLabel value="Fone I:" />
							<h:inputHidden />
							<p:outputLabel value="Fone II:" />
						    <h:inputHidden />
						    <p:outputLabel value="Escolaridade:" />
							<h:inputHidden />
						    
							<p:selectOneMenu style="width:120px;" id="cor" value="#{MBParenteMenorCadastro.parente.cor}">
								<f:selectItem itemLabel="Selecione" itemValue=""
									noSelectionOption="true" />
								<p:spacer width="16px;" />
								<f:selectItem itemLabel="Amarela" itemValue="AM" />
								<f:selectItem itemLabel="Branca" itemValue="BR" />
								<f:selectItem itemLabel="Indígena" itemValue="IN" />
								<f:selectItem itemLabel="Parda" itemValue="PA" />
								<f:selectItem itemLabel="Preta" itemValue="PR" />
							</p:selectOneMenu>
							<p:spacer width="12px;" />
							
							<p:inputMask id="fone1" value="#{MBParenteMenorCadastro.parente.foneI}"
								mask="(99) 999?9-99999" size="11" />
							<p:spacer width="15px;" />
							
							<p:inputMask id="foneII" value="#{MBParenteMenorCadastro.parente.foneII}"
								mask="(99) 999?9-99999" size="11" />
							<p:spacer width="15px;" />
							
							<p:selectOneMenu style="width:245px;" id="cbGrauEscola"
								value="#{MBParenteMenorCadastro.parente.escolaridade}"
								converter="omnifaces.SelectItemsConverter" filter="true"
								filterMatchMode="contains">
								<f:selectItem noSelectionOption="true" itemLabel="Selecione  " />
								<f:selectItems
									value="#{MBParenteMenorCadastro.listaGrauEscolaridade}"
									var="grauescolaridade" itemValue="#{grauescolaridade}"
									itemLabel="#{grauescolaridade.nome}" />
							</p:selectOneMenu>
						</h:panelGrid>

						<!-- Linha 4 -->
						<h:panelGrid columns="6">
							<p:outputLabel value="Escola:" />
							<h:inputHidden />
							<p:outputLabel value="Trabalha:" />
							<h:inputHidden />
							<p:outputLabel value="Local trabalho:" />
							<h:inputHidden />
													
							<p:selectOneMenu style="width:260px;" id="cbEscola"
								value="#{MBParenteMenorCadastro.parente.escola}"
								converter="omnifaces.SelectItemsConverter" filter="true"
								filterMatchMode="contains">
								<f:selectItem noSelectionOption="true" itemLabel="Selecione" />
								<f:selectItems value="#{MBParenteMenorCadastro.listaEscola}"
								var="instituicao" itemValue="#{instituicao}"
								itemLabel="#{instituicao.fantasia}" />
							</p:selectOneMenu>
							<p:spacer width="15x;" />
							
							<p:selectOneRadio id="trabalha"
								value="#{MBParenteMenorCadastro.trabalha}">
								<f:selectItem itemLabel="Sim" itemValue="S" />
								<f:selectItem itemLabel="Não" itemValue="N" />
								<p:ajax event="click" listener="#{MBParenteMenorCadastro.alteraCampoTrabalho}" update="txtTrabalha" />
						    </p:selectOneRadio>
						    <p:spacer width="15x;" />
						    
						    <p:inputText id="txtTrabalha"
								disabled="#{MBParenteMenorCadastro.desabilitaLocalTrabalho}"
								value="#{MBParenteMenorCadastro.localTrabalho}" size="32" />
						</h:panelGrid>
						
						
				</h:panelGrid>					
					
					<h:panelGrid style="margin: 10px auto;" columns="2">
						<p:commandButton value="Salvar" update="msgs1" />
						<p:commandButton value="Voltar" title="voltar" action="#{MBParenteMenorCadastro.navegaBuscaParente}" />								
					</h:panelGrid>

				</h:form>
			</p:panel>
		</ui:define>
	</ui:composition>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           
</h:body>

</html>