<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets">

<h:body>
	<ui:composition template="#{MBConselheiroCadastro.template}">
		<ui:define name="content">

			<p:panel header=" Cadastro de Usuário do Sistema">
				
				<h:form id="formConselheiro">
		
					<p:messages id="msgs1" showDetail="true" >
						<p:effect type="pulsate" event="load" delay="500" />
					</p:messages>
					
					<h:outputText value="Os campos obrigatórios estão marcados com (*)" style="font-size: 12px; font-style: italic;" styleClass=" texto_center_2"/>
			 		<!-- Linha 1 -->
					<h:panelGrid columns="2" style="margin-top: 10px;">
				       <p:outputLabel value="Data cadastro :" />
				       <p:outputLabel value="Conselheiro Logado :" />				       
				       <p:inputText value="#{MBConselheiroCadastro.dataCadastro}" size="10" disabled="true" />				       
				       <p:inputText value="#{MBConselheiroCadastro.conselheiroLogado.nomeUsual}" size="30" disabled="true" />
					</h:panelGrid>
					
					
					
					<!-- Linha 2 -->
					<h:panelGrid columns="7">
						<p:outputLabel value="Nome completo *:" />
						<h:inputHidden />
						<p:outputLabel value="Nome usual *:" />
						<h:inputHidden />							
						<p:outputLabel value="Senha: *" />
						<h:inputHidden />
						<p:outputLabel value="Confirme: *" />
							                          
						<p:inputText value="#{MBConselheiroCadastro.nomeCompleto}" size="45" type="text" placeholder="Seu nome completo" />
						<p:spacer width="8px;" />	
						<p:inputText value="#{MBConselheiroCadastro.nomeUsual}" maxlength="20" size="16" type="text" placeholder="Até 20 digitos" />
						<p:spacer width="8px;" />						
					    <p:password value="#{MBConselheiroCadastro.senha}" size="4" mask="99999999" >
					    	<p:ajax event="blur" listener="#{MBConselheiroCadastro.validaSenha}" update="msgs1" />
					    </p:password>					    
					    <p:spacer width="7px;" />
						<p:password value="#{MBConselheiroCadastro.confirmSenha}" size="4" mask="99999999" >
							<p:ajax event="blur" listener="#{MBConselheiroCadastro.validaSenha}" update="msgs1" />
						</p:password>
					</h:panelGrid>
					
					
					<!-- Linha 3 -->
					<h:panelGrid columns="11">
						<p:outputLabel value="CPF: *" />
						<h:inputHidden />
						<p:outputLabel value="RG: *" />
						<h:inputHidden />
						<p:outputLabel value="Org.Emissor: *" />
						<h:inputHidden />
						<p:outputLabel value="Data Nasc.: *" />
						<h:inputHidden />
						<p:outputLabel value="Fone I: *" />
						<h:inputHidden />
						<p:outputLabel value="Fone II:" />
	
						<p:inputMask id="cpf" value="#{MBConselheiroCadastro.cpf}" mask="999.999.999-99" size="10">
							<p:ajax event="blur" listener="#{MBConselheiroCadastro.validaCPF}" update="msgs1" />
						</p:inputMask>
						<p:spacer width="12px;" />
						
						<p:inputText value="#{MBConselheiroCadastro.rg}" size="8" maxlength="9"  />
						<p:spacer width="12px;" />
						
						<p:selectOneMenu style="width:57px;" id="cbOrgao"
							value="#{MBConselheiroCadastro.orgao}"
							converter="omnifaces.SelectItemsConverter" filter="true"
							filterMatchMode="contains">
							<f:selectItem noSelectionOption="true" itemLabel="Selecione" />
							<f:selectItems
								value="#{MBConselheiroCadastro.listaOrgao}"
								var="orgao" itemValue="#{orgao}"
								itemLabel="#{orgao.nome}" />
						</p:selectOneMenu>
						<p:spacer width="12px;" />
						
						<p:calendar id="popup"
								value="#{MBConselheiroCadastro.dataNascimento}" size="7" locale="br"
								navigator="true" pattern="dd/MM/yyyy"  >								
						</p:calendar>
						<p:spacer width="8px;" />	
						
						<p:inputMask id="fone1" value="#{MBConselheiroCadastro.foneI}"
							mask="(99) 999?9-99999" size="10" />
						<p:spacer width="12px;" />
						<p:inputMask id="foneII" value="#{MBConselheiroCadastro.foneII}"
							mask="(99) 999?9-99999" size="10" />							
					</h:panelGrid>
					
					<!-- Linha 4 -->
					<h:panelGrid columns="7">
					    <p:outputLabel value="Sexo:" />
						<h:inputHidden />
						<p:outputLabel value="Cor:" />
						<h:inputHidden />
						<p:outputLabel value="Escolaridade:" />
						<h:inputHidden />
						<p:outputLabel value="Situac.Matrimonial:" />
				    	
				    	<p:selectOneRadio id="sexo" value="#{MBConselheiroCadastro.sexo}" >
							<f:selectItem itemLabel="Masc." itemValue="M" />
							<f:selectItem itemLabel="Fem." itemValue="F" />
						</p:selectOneRadio>
						<p:spacer width="7px;" />
						
						<p:selectOneMenu style="width:104px;" id="cor" value="#{MBConselheiroCadastro.cor}">
							<f:selectItem itemLabel="Selecione" itemValue="" noSelectionOption="true" />
							<f:selectItem itemLabel="Amarela" itemValue="AM" />
							<f:selectItem itemLabel="Branca" itemValue="BR" />
							<f:selectItem itemLabel="Indígena" itemValue="IN" />
							<f:selectItem itemLabel="Parda" itemValue="PA" />
							<f:selectItem itemLabel="Preta" itemValue="PR" />
						</p:selectOneMenu>							
						<p:spacer width="11px;" />
						
						<p:selectOneMenu style="width:185px;" id="cbGrauEscola"
							value="#{MBConselheiroCadastro.escolaridade}"
							converter="omnifaces.SelectItemsConverter" filter="true"
							filterMatchMode="contains">
							<f:selectItem noSelectionOption="true" itemLabel="Selecione  " />
							<f:selectItems
								value="#{MBConselheiroCadastro.listaGrauEscolaridade}"
								var="grauescolaridade" itemValue="#{grauescolaridade}"
								itemLabel="#{grauescolaridade.nome}" />
						</p:selectOneMenu>							
						<p:spacer width="11px;" />
						
						<p:selectOneMenu style="width:145px;" id="situacaoMatrimonial" value="#{MBConselheiroCadastro.situacaoMatrimonia}" >
							<f:selectItem itemLabel="Selecione" itemValue="" noSelectionOption="true" />
							<f:selectItem itemLabel="Casada(o)" itemValue="CS" />
							<f:selectItem itemLabel="Divorciada(o)" itemValue="DV" />
							<f:selectItem itemLabel="Separada(o)" itemValue="SP" />
							<f:selectItem itemLabel="Solteira(o)" itemValue="ST" />
							<f:selectItem itemLabel="Viuva(o)" itemValue="VU" />
						</p:selectOneMenu>
						
					</h:panelGrid>
					
					<h:panelGrid columns="5">
						<p:outputLabel value="Estado:" />
						<h:inputHidden />
						<p:outputLabel value="Cidade:" />
						<h:inputHidden />
						<p:outputLabel value="Bairro:" />

						<p:selectOneMenu style="width:56px;" id="cbEstado" value="#{MBConselheiroCadastro.estadoSelecionado}"
							    converter="omnifaces.SelectItemsConverter" filter="true" filterMatchMode="contains">
							<f:selectItem noSelectionOption="true" itemLabel="Selecione" />
							<f:selectItems value="#{MBConselheiroCadastro.listaEstado}"
								var="estado" itemValue="#{estado}" itemLabel="#{estado.sigla}" />
							<p:ajax event="change" listener="#{MBConselheiroCadastro.buscaCidade}" update="cbCidade, cbBairro, cbLogradouro" />
						</p:selectOneMenu>
						<p:spacer width="2px;" />

						<p:selectOneMenu style="width:225px;" id="cbCidade" value="#{MBConselheiroCadastro.cidadeSelecionado}"
							    converter="omnifaces.SelectItemsConverter" filter="true"
								filterMatchMode="contains" >
							<f:selectItem noSelectionOption="true" itemLabel="Selecione" />
							<f:selectItems value="#{MBConselheiroCadastro.listaCidade}"
								var="cidade" itemValue="#{cidade}" itemLabel="#{cidade.nome}" />
							<p:ajax event="change" listener="#{MBConselheiroCadastro.buscaBairro}" update="cbBairro, cbLogradouro" />
						</p:selectOneMenu>
						<p:spacer width="2px;" />
						
						<p:selectOneMenu style="width:301px;" id="cbBairro" value="#{MBConselheiroCadastro.bairroSelecionado}" 
								converter="omnifaces.SelectItemsConverter" filter="true" filterMatchMode="contains">
							<f:selectItem noSelectionOption="true" itemLabel="Selecione" />
							<f:selectItems value="#{MBConselheiroCadastro.listaBairro}"
								var="bairro" itemValue="#{bairro}" itemLabel="#{bairro.nome}" />
							<p:ajax event="change" listener="#{MBConselheiroCadastro.buscaLogradouro}" update="cbLogradouro" />
						</p:selectOneMenu>
						
					</h:panelGrid>
					
					<!-- Linha 5 -->
			       <h:panelGrid columns="5">
			       		
			       		<p:outputLabel value="Logradouro: *" />					    
						<h:inputHidden />						
						<p:outputLabel value="Numero: *" />
						<h:inputHidden />
						<p:outputLabel value="Complem.:" />
						
						<p:selectOneMenu style="width:390px;" id="cbLogradouro" value="#{MBConselheiroCadastro.logradouro}"
								converter="omnifaces.SelectItemsConverter" filter="true" filterMatchMode="contains" >
							<f:selectItem noSelectionOption="true" itemLabel="Selecione" />
							<f:selectItems value="#{MBConselheiroCadastro.listaLogradouro}"
								var="logradouro" itemValue="#{logradouro}" itemLabel="#{logradouro.nome}" />
						</p:selectOneMenu>
						<p:spacer width="2px;" />
						<p:inputText value="#{MBConselheiroCadastro.numero}" size="4" />
						<p:spacer width="2px;" />					
						<p:inputText value="#{MBConselheiroCadastro.complemento}" size="20" />					
				
			       </h:panelGrid>
			       
			       <!-- Linha 6 -->
					<h:panelGrid columns="3">						
											
						<p:outputLabel value="Email:" />
						<h:inputHidden />
						<p:outputLabel value="Nivel Acesso/Função: *" />
																													
						<p:inputText id="txtEmail" value="#{MBConselheiroCadastro.email}" size="55" type="text" placeholder="mail@exemplo.com.br" />
						<p:spacer width="2px;" />						
						<p:selectOneMenu style="width:110px;" id="nivelAcesso" value="#{MBConselheiroCadastro.nivelAcesso}" >
							<f:selectItem itemLabel="Selecione" itemValue="" noSelectionOption="true" />
							<f:selectItem itemLabel="Coordenador" itemValue="cor" />
							<f:selectItem itemLabel="Conselheiro" itemValue="con" />
							<f:selectItem itemLabel="Colaborador" itemValue="col" />
							<f:selectItem itemLabel="Relatório" itemValue="rel" />						
						</p:selectOneMenu>
					</h:panelGrid>
					
					<!-- Linha 7 -->
<!-- 					<p:outputLabel value="Período do Mandato:" />					 -->
					<h:panelGrid columns="2" >
						
						<p:fieldset legend="1º Período" toggleable="false">							
							<h:panelGrid columns="3" style="margin-top: 5px;" >
								<p:outputLabel value=" Inicio mandato:" />						
								<p:spacer width="7px;" />
								<p:outputLabel value=" Termino mandato:" />						
								
								<p:calendar value="#{MBConselheiroCadastro.primeiroMandatoInicio}"  size="09" locale="br" navigator="true" pattern="dd/MM/yyyy" />
								<p:spacer width="8px;" />
								<p:calendar value="#{MBConselheiroCadastro.primeiroMandatoFim}" size="09" locale="br" navigator="true" pattern="dd/MM/yyyy" />
							</h:panelGrid>						
						</p:fieldset>
						
						<p:fieldset legend="2º Período" toggleable="false">
							<h:panelGrid columns="3" style="margin-top: 5px;" >
								<p:outputLabel value=" Inicio mandato:" />						
								<p:spacer width="7px;" />
								<p:outputLabel value=" Termino mandato: " /> 					
								
								<p:calendar value="#{MBConselheiroCadastro.segundoMandatoInicio}"  size="09" locale="br" navigator="true" pattern="dd/MM/yyyy" />
								<p:spacer width="8px;" />
								<p:calendar value="#{MBConselheiroCadastro.segundoMandatoFim}" size="09" locale="br" navigator="true" pattern="dd/MM/yyyy" />
							</h:panelGrid>												
						</p:fieldset>	
					
					</h:panelGrid>	
						
					<h:outputText value="Obs.Em Período considerar Início e Termino de mandatos ininterrupto." style="font-size: 12px; font-style: italic;" styleClass="texto_center_2"/>								
				
					
					<!-- Linha 8 -->
				     <h:panelGrid columns="1">
				        	<p:spacer width="7px;" />
						<p:outputLabel value="Observação:" />
						<f:selectItem noSelectionOption="true"/>
						<p:inputTextarea autoResize="False" rows="2" id="txtObs" value="#{MBConselheiroCadastro.obs}" cols="94" type="text" placeholder="Se necessário, insira observação."/>
				     </h:panelGrid>

					<h:panelGrid style="margin: 10px auto;" columns="3">
						<p:commandButton value="Salvar" actionListener="#{MBConselheiroCadastro.salvar}"  update="msgs1, formConselheiro" />
						<p:commandButton value="Reativar Conselheiro" rendered="#{MBConselheiroCadastro.conselheiroDesativado}" actionListener="#{MBConselheiroCadastro.reativarConselheiro}"  update="msgs1, formConselheiro" />						
						<p:commandButton value="Voltar" action="conselheiro_busca?faces-redirect=true" />								
					</h:panelGrid>

				</h:form>
			</p:panel>
		</ui:define>
	</ui:composition>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           
</h:body>

</html>