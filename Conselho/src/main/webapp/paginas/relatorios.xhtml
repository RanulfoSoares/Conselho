<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets">

<h:body>
	<ui:composition template="#{MBCidade.template}">
		<ui:define name="content">
			<p:panel header="Relatorios" >											
				<h:form id="formCidade">
				
					<p:messages id="msgs1" showDetail="true">  
	                     <p:effect type="pulsate" event="load" delay="500" />  
	                </p:messages>
					
				<h:panelGrid columns="4" style="margin: 10px auto;" >
					
						<p:commandLink onclick="PF('dlgCriancaAdolescente').show();" >							
							<button>
								<h:panelGrid>
									<h:graphicImage library="img" name="criancaAdolescente.png" />									
									Criança Adolescente
								</h:panelGrid>						
							</button>
						</p:commandLink>
						
						<p:commandLink onclick="PF('dlgAtendimento').show();" >	
							<button>
								<h:panelGrid>
									<h:graphicImage library="img" name="dadosAtendimento.png" />									
									Dados do Atendimento
								</h:panelGrid>						
							</button>
						</p:commandLink>
						
						<p:commandLink onclick="PF('dlgSetorPublico').show();" >	
							<button>
								<h:panelGrid>
									<h:graphicImage library="img" name="Setores atuante.png" />									
									Setor público
								</h:panelGrid>						
							</button>
						</p:commandLink>
						
						<p:commandLink onclick="PF('dlgVioladores').show();" >		
							<button>
								<h:panelGrid>
									<h:graphicImage library="img" name="responsavel.png" />									
									Violadores
								</h:panelGrid>						
							</button>	
						</p:commandLink>
						
						</h:panelGrid>
						
						<h:panelGrid columns="2" style="margin: 10px auto;" >
						
						<p:commandLink onclick="PF('dlgDireitosViolados').show();" >	
							<button>
								<h:panelGrid>
									<h:graphicImage library="img" name="direitosViolado.png" />									
									Direitos Violado 
								</h:panelGrid>						
							</button>
						</p:commandLink>
						
						<p:commandLink onclick="PF('dlgMedidasAplicadas').show();" >		
							<button>
								<h:panelGrid>
									<h:graphicImage library="img" name="medidasAplicada.png" />									
									Medidas Aplicada
								</h:panelGrid>						
							</button>
						</p:commandLink>
					
					</h:panelGrid>
															
			
										
					<h:panelGrid columns="3" style="margin: 10px auto;" >
						
						<p:commandLink onclick="PF('dlgDireitoVioladoPorBairro').show();">	
							<button>
								<h:panelGrid>
									<h:graphicImage library="img" name="Direitos violados por bairro.png" />									
									Direitos Violado por bairro
								</h:panelGrid>						
							</button>
						</p:commandLink>	
						
						<p:commandLink onclick="PF('dlgMedidasAplicadasPorBairro').show();" >		
							<button>
								<h:panelGrid>
									<h:graphicImage library="img" name="Medidas aplicadas por bairro.png" />									
									Medidas Aplicada por bairro
								</h:panelGrid>						
							</button>
						</p:commandLink>
					
						<p:commandLink onclick="PF('#').show();" >		
							<button>
								<h:panelGrid>
									<h:graphicImage library="img" name="Classe_Violadores.png" />									
									Classe sub-classe violadores
								</h:panelGrid>						
							</button>	
						</p:commandLink>
													
					</h:panelGrid>
																								
				</h:form>
			 </p:panel>
			 				
			<p:dialog header="Criança Adolescente" widgetVar="dlgCriancaAdolescente" 
					  modal="true" resizable="false" height="150"  appendTo="@(body)"
					  closable="false" draggable="false">
				 <h:form id="formDlgHistorico">
					 <h:panelGrid style="margin-top:10px; margin-bottom:5px;" >
					 	<h:outputText styleClass="texto_informativo_14" value="Selecione o período" />
					 </h:panelGrid>
					 
					 <h:panelGrid columns="3" >
					 	<p:calendar id="dataInicio" value="#{MBRelatorios.dataIni}" pattern="dd/MM/yyyy" />
					 	<h:outputText styleClass="texto_informativo_12" value="a" />
					 	<p:calendar id="dataFim" value="#{MBRelatorios.dataFim}" pattern="dd/MM/yyyy" />
					 </h:panelGrid>
					 <h:panelGrid columns="2" style="margin: 5px auto;" >
					 	<p:commandButton value="Buscar dados criança e adolescente" actionListener="#{MBRelatorios.dadosVitimasAtendimento}" ajax="false" onclick="form.target='_blank'" />
					 	<p:commandButton value="Cancelar" actionListener="#{MBRelatorios.resetaData}" onclick="this.form.target='_self'; PF('dlgCriancaAdolescente').hilde();" />
					 </h:panelGrid>
				</h:form>
			</p:dialog>
			
			<p:dialog header="Violadores" widgetVar="dlgVioladores" 
					  modal="true" resizable="false" height="150"  appendTo="@(body)"
					  closable="false" draggable="false">
				 <h:form id="formDlgVioladores">
					 <h:panelGrid style="margin-top:10px; margin-bottom:5px;" >
					 	<h:outputText styleClass="texto_informativo_14" value="Selecione o período" />
					 </h:panelGrid>
					 
					 <h:panelGrid columns="3" >
					 	<p:calendar id="dataInicio" value="#{MBRelatorios.dataIni}" pattern="dd/MM/yyyy" />
					 	<h:outputText styleClass="texto_informativo_12" value="a" />
					 	<p:calendar id="dataFim" value="#{MBRelatorios.dataFim}" pattern="dd/MM/yyyy" />
					 </h:panelGrid>
					 <h:panelGrid columns="2" style="margin: 5px auto;" >
					 	<p:commandButton value="Buscar dados violadores" actionListener="#{MBRelatorios.dadosVioladoresAtendimento}" ajax="false" onclick="form.target='_blank'" />
					 	<p:commandButton value="Cancelar" actionListener="#{MBRelatorios.resetaData}" onclick="this.form.target='_self'; PF('dlgVioladores').hilde();" />
					 </h:panelGrid>
				</h:form>
			</p:dialog>
			
			<p:dialog header="Atendimentos" widgetVar="dlgAtendimento" 
					  modal="true" resizable="false" height="150"  appendTo="@(body)"
					  closable="false" draggable="false">
				 <h:form id="formDlgAtendimento">
					 <h:panelGrid style="margin-top:10px; margin-bottom:5px;" >
					 	<h:outputText styleClass="texto_informativo_14" value="Selecione o período" />
					 </h:panelGrid>
					 
					 <h:panelGrid columns="3" >
					 	<p:calendar id="dataInicio" value="#{MBRelatorios.dataIni}" pattern="dd/MM/yyyy" />
					 	<h:outputText styleClass="texto_informativo_12" value="a" />
					 	<p:calendar id="dataFim" value="#{MBRelatorios.dataFim}" pattern="dd/MM/yyyy" />
					 </h:panelGrid>
					 <h:panelGrid columns="2" style="margin: 5px auto;" >
					 	<p:commandButton value="Buscar dados atendimento" actionListener="#{MBRelatorios.dadosAtendimentos}" ajax="false" onclick="form.target='_blank'" />
					 	<p:commandButton value="Cancelar" actionListener="#{MBRelatorios.resetaData}" onclick="this.form.target='_self'; PF('dlgAtendimento').hilde();" />
					 </h:panelGrid>
				</h:form>
			</p:dialog>
			
			<p:dialog header="Setor Público" widgetVar="dlgSetorPublico" 
					  modal="true" resizable="false" height="150"  appendTo="@(body)"
					  closable="false" draggable="false">
				 <h:form id="formDlgSetorPublico">
					 <h:panelGrid style="margin-top:10px; margin-bottom:5px;" >
					 	<h:outputText styleClass="texto_informativo_14" value="Selecione o período" />
					 </h:panelGrid>
					 
					 <h:panelGrid columns="3" >
					 	<p:calendar id="dataInicio" value="#{MBRelatorios.dataIni}" pattern="dd/MM/yyyy" />
					 	<h:outputText styleClass="texto_informativo_12" value="a" />
					 	<p:calendar id="dataFim" value="#{MBRelatorios.dataFim}" pattern="dd/MM/yyyy" />
					 </h:panelGrid>
					 <h:panelGrid columns="2" style="margin: 5px auto;" >
					 	<p:commandButton value="Buscar dados setor público" actionListener="#{MBRelatorios.setorPublico}" ajax="false" onclick="form.target='_blank'" />
					 	<p:commandButton value="Cancelar" actionListener="#{MBRelatorios.resetaData}" onclick="this.form.target='_self'; PF('dlgSetorPublico').hilde();" />
					 </h:panelGrid>
				</h:form>
			</p:dialog>
			
			<p:dialog header="Direitos Violados" widgetVar="dlgDireitosViolados" 
					  modal="true" resizable="false" height="250"  appendTo="@(body)"
					  closable="false" draggable="false">
				 <h:form id="formDlgDireitosViolados">
					 <h:panelGrid style="margin-top:10px; margin-bottom:5px;" >
					 	<h:outputText styleClass="texto_informativo_14" value="Selecione o período" />
					 </h:panelGrid>
					 
					 <h:panelGrid columns="3" >
					 	<p:calendar id="dataInicio" value="#{MBRelatorios.dataIni}" pattern="dd/MM/yyyy" />
					 	<h:outputText styleClass="texto_informativo_12" value="a" />
					 	<p:calendar id="dataFim" value="#{MBRelatorios.dataFim}" pattern="dd/MM/yyyy" />
					 </h:panelGrid>
					 <h:panelGrid columns="2" style="margin: 5px auto;" >
					 	<p:commandButton value="Buscar Direitos Violados" actionListener="#{MBRelatorios.relatorioDireitosViolados}" ajax="false" onclick="form.target='_blank'" />
					 	<p:commandButton value="Cancelar" actionListener="#{MBRelatorios.resetaData}" onclick="this.form.target='_self'; PF('dlgCriancaAdolescente').hilde();" />
					 </h:panelGrid>
				</h:form>
			</p:dialog>
			
			<p:dialog header="Medidas Aplicadas" widgetVar="dlgMedidasAplicadas" 
					  modal="true" resizable="false" height="250"  appendTo="@(body)"
					  closable="false" draggable="false">
				 <h:form id="formDlgMedidasAplicadas">
					 <h:panelGrid style="margin-top:10px; margin-bottom:5px;" >
					 	<h:outputText styleClass="texto_informativo_14" value="Selecione o período" />
					 </h:panelGrid>
					 
					 <h:panelGrid columns="3" >
					 	<p:calendar id="dataInicio" value="#{MBRelatorios.dataIni}" pattern="dd/MM/yyyy" />
					 	<h:outputText styleClass="texto_informativo_12" value="a" />
					 	<p:calendar id="dataFim" value="#{MBRelatorios.dataFim}" pattern="dd/MM/yyyy" />
					 </h:panelGrid>
					 <h:panelGrid columns="2" style="margin: 5px auto;" >
					 	<p:commandButton value="Buscar Medidas Aplicadas" actionListener="#{MBRelatorios.relatorioMedidasAplicadas}" ajax="false" onclick="form.target='_blank'" />
					 	<p:commandButton value="Cancelar" actionListener="#{MBRelatorios.resetaData}" onclick="this.form.target='_self'; PF('dlgMedidasAplicadas').hilde();" />
					 </h:panelGrid>
				</h:form>
			</p:dialog>
			
			<p:dialog header="Direitos Violados Por Bairro" widgetVar="dlgDireitoVioladoPorBairro" 
					  modal="true" resizable="false" height="250"  appendTo="@(body)"
					  closable="false" draggable="false">
				 <h:form id="formDlgDireitoVioladoBarro">					 					 
					 
					 <p:fieldset legend="Endereço da ocorrência" toggleable="false" style="margin-top: 15px;" >
						
						<h:panelGrid style="margin-top:10px; margin-bottom:5px;" >
						 	<h:outputText styleClass="texto_informativo_14" value="Selecione o período" />
						 </h:panelGrid>
						 
						 <h:panelGrid columns="3" >
						 	<p:calendar id="dataInicio" value="#{MBRelatorios.dataIni}" pattern="dd/MM/yyyy" />
						 	<h:outputText styleClass="texto_informativo_12" value="a" />
						 	<p:calendar id="dataFim" value="#{MBRelatorios.dataFim}" pattern="dd/MM/yyyy" />
						 </h:panelGrid>
								
						<!-- Linha 4 -->							
						<h:panelGrid columns="5">
							<p:outputLabel value="Estado: *" />
							<h:inputHidden />
							<p:outputLabel value="Cidade: *" />
							<h:inputHidden />
							<p:outputLabel value="Bairro: *" />
	
							<p:selectOneMenu style="width:48px;" id="cbEstado" value="#{MBRelatorios.estadoSelecionado}"
							    			converter="omnifaces.SelectItemsConverter" filter="true" filterMatchMode="contains">
								<f:selectItem noSelectionOption="true" itemLabel="Selecione" />
								<f:selectItems value="#{MBRelatorios.listaEstado}"
									var="estado" itemValue="#{estado}" itemLabel="#{estado.sigla}" />
								<p:ajax event="change" listener="#{MBRelatorios.buscaCidade}" update="cbCidade, cbBairro" />
							</p:selectOneMenu>
							<p:spacer width="2px;" />
	
							<p:selectOneMenu style="width:214px;" id="cbCidade" value="#{MBRelatorios.cidadeSelecionado}"
								    converter="omnifaces.SelectItemsConverter" filter="true" filterMatchMode="contains" >
								<f:selectItem noSelectionOption="true" itemLabel="Selecione" />
								<f:selectItems value="#{MBRelatorios.listaCidade}"
									var="cidade" itemValue="#{cidade}" itemLabel="#{cidade.nome}" />
								<p:ajax event="change" listener="#{MBRelatorios.buscaBairro}" update="cbBairro" />
							</p:selectOneMenu>
							<p:spacer width="2px;" />
	
							<p:selectOneMenu style="width:245px;" id="cbBairro" value="#{MBRelatorios.bairroSelecionado}"
									converter="omnifaces.SelectItemsConverter" filter="true" filterMatchMode="contains">
								<f:selectItem noSelectionOption="true" itemLabel="Selecione" />
								<f:selectItems value="#{MBRelatorios.listaBairro}"
									var="bairro" itemValue="#{bairro}" itemLabel="#{bairro.nome}" />								
							</p:selectOneMenu>
							<p:spacer width="2px;" />
							</h:panelGrid>
							
							<h:panelGrid columns="2" style="margin: 5px auto;" >
							 	<p:commandButton value="Buscar Direitos Violados" actionListener="#{MBRelatorios.relatorioDireitoVioladoPorBairro}" ajax="false" onclick="form.target='_blank'" />
							 	<p:commandButton value="Cancelar" actionListener="#{MBRelatorios.resetaData}" onclick="this.form.target='_self'; PF('dlgDireitoVioladoPorBairro').hilde();" />
							 </h:panelGrid>
																																																		
						</p:fieldset>
					 
				</h:form>
			</p:dialog>
			
			<p:dialog header="Medidas Aplicadas Por Bairro" widgetVar="dlgMedidasAplicadasPorBairro" 
					  modal="true" resizable="false" height="250"  appendTo="@(body)"
					  closable="false" draggable="false">
				 <h:form id="formDlgMedidasAplicadasBarro">					 					 
					 
					 <p:fieldset legend="Endereço da ocorrência" toggleable="false" style="margin-top: 15px;" >
						
						<h:panelGrid style="margin-top:10px; margin-bottom:5px;" >
						 	<h:outputText styleClass="texto_informativo_14" value="Selecione o período" />
						 </h:panelGrid>
						 
						 <h:panelGrid columns="3" >
						 	<p:calendar id="dataInicio" value="#{MBRelatorios.dataIni}" pattern="dd/MM/yyyy" />
						 	<h:outputText styleClass="texto_informativo_12" value="a" />
						 	<p:calendar id="dataFim" value="#{MBRelatorios.dataFim}" pattern="dd/MM/yyyy" />
						 </h:panelGrid>
								
						<!-- Linha 4 -->							
						<h:panelGrid columns="5">
							<p:outputLabel value="Estado: *" />
							<h:inputHidden />
							<p:outputLabel value="Cidade: *" />
							<h:inputHidden />
							<p:outputLabel value="Bairro: *" />
	
							<p:selectOneMenu style="width:48px;" id="cbEstado" value="#{MBRelatorios.estadoSelecionado}"
							    			converter="omnifaces.SelectItemsConverter" filter="true" filterMatchMode="contains">
								<f:selectItem noSelectionOption="true" itemLabel="Selecione" />
								<f:selectItems value="#{MBRelatorios.listaEstado}"
									var="estado" itemValue="#{estado}" itemLabel="#{estado.sigla}" />
								<p:ajax event="change" listener="#{MBRelatorios.buscaCidade}" update="cbCidade, cbBairro" />
							</p:selectOneMenu>
							<p:spacer width="2px;" />
	
							<p:selectOneMenu style="width:214px;" id="cbCidade" value="#{MBRelatorios.cidadeSelecionado}"
								    converter="omnifaces.SelectItemsConverter" filter="true" filterMatchMode="contains" >
								<f:selectItem noSelectionOption="true" itemLabel="Selecione" />
								<f:selectItems value="#{MBRelatorios.listaCidade}"
									var="cidade" itemValue="#{cidade}" itemLabel="#{cidade.nome}" />
								<p:ajax event="change" listener="#{MBRelatorios.buscaBairro}" update="cbBairro" />
							</p:selectOneMenu>
							<p:spacer width="2px;" />
	
							<p:selectOneMenu style="width:245px;" id="cbBairro" value="#{MBRelatorios.bairroSelecionado}"
									converter="omnifaces.SelectItemsConverter" filter="true" filterMatchMode="contains">
								<f:selectItem noSelectionOption="true" itemLabel="Selecione" />
								<f:selectItems value="#{MBRelatorios.listaBairro}"
									var="bairro" itemValue="#{bairro}" itemLabel="#{bairro.nome}" />								
							</p:selectOneMenu>
							<p:spacer width="2px;" />
							</h:panelGrid>
							
							<h:panelGrid columns="2" style="margin: 5px auto;" >
							 	<p:commandButton value="Buscar Direitos Violados" actionListener="#{MBRelatorios.relatorioMedidaAplicadaPorBairro}" /> <!--  ajax="false" onclick="form.target='_blank'" />  -->
							 	<p:commandButton value="Cancelar" actionListener="#{MBRelatorios.resetaData}" onclick="this.form.target='_self'; PF('dlgMedidasAplicadasPorBairro').hilde();" />
							 </h:panelGrid>
																																																		
						</p:fieldset>
					 
				</h:form>
			</p:dialog>
			
		</ui:define>
	</ui:composition>
</h:body>

</html>