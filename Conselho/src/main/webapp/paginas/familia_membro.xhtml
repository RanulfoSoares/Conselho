<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets">

<h:body>
	<ui:composition template="#{MBFamiliaMembro.template}">
		<ui:define name="content">
			<p:panel header=" Relacionamento do Núcleo Familiar">
			
				<p:messages id="msgs1" showDetail="true">
					<p:effect type="pulsate" event="load" delay="500" />
				</p:messages>
					
					<h:form id="formGrid">	
					
					<!-- Linha 2 -->
					<h:panelGrid columns="3">
						<p:outputLabel value="Numero de Registro :" />
						<h:inputHidden />
						<p:outputLabel value="Conselheiro Responsavel:" />
						<p:inputText value="#{MBFamiliaMembro.familia.numeroPasta}" size="15" disabled="true" />
						<p:spacer width="5px;" />												
						<p:inputText value="#{MBFamiliaMembro.familia.conselheiroRegistro.nomeUsual}" size="25" disabled="true" />
						
					 </h:panelGrid>														

					<h:panelGrid id="grdCentral">
					
					<h:panelGrid columns="4" style="margin: 18px 30px;" >						
							<h:outputText value="Membro Familiar:" />
							<h:outputText value="#{MBFamiliaMembro.membroSelecionado.pessoa.nomeCompleto}" styleClass="texto_informativo" />		
					</h:panelGrid>
					
					</h:panelGrid>
					
					<p:dataTable id="tblMemb" var="membro" value="#{MBFamiliaMembro.listaMembros}" paginator="true" rows="5" style="margin-top: 1%;">						
							 <f:facet name="header" >
							 	<p:spacer width="25" />
							 	<h:outputText value="Membros Familiar" style="font-size: 15px;"  />								 				 													            					          
					        </f:facet>
					        <p:column headerText="Nome" style="width: 50%;">
					            <h:outputText value="#{membro.nome}" />
					        </p:column> 
					        
					        <p:column headerText="Idade" style="width: 10%;" >
					            <h:outputText value="#{membro.idade}" />
					        </p:column>
					        					        				        					     
					        
					        <p:column headerText="Gr. Parentesco" >					        						        						        							            
					           <p:selectOneMenu style="width:90px;"  value="#{membro.grauParentesco}"
									converter="omnifaces.SelectItemsConverter" filter="true"
									filterMatchMode="contains">
									<f:selectItem noSelectionOption="true" itemLabel="Selecione" />
									<f:selectItems
										value="#{MBFamiliaMembro.listaParentesco}"
										var="parente" itemValue="#{parente}"
										itemLabel="#{parente.nome}" />
								</p:selectOneMenu>					            					        						        						          
					        </p:column>
					        
					        <p:column headerText="Gr. Respon." >					        						        						        							            
					           <p:selectOneMenu style="width:90px;" value="#{membro.grauResponsabilidade}"
									converter="omnifaces.SelectItemsConverter" filter="true"
									filterMatchMode="contains">
									<f:selectItem noSelectionOption="true" itemLabel="Selecione" />
									<f:selectItems
										value="#{MBFamiliaMembro.listaResponsabilidade}"
										var="resp" itemValue="#{resp}"
										itemLabel="#{resp.nome}" />
										<p:spacer width="50px;" />
										
								</p:selectOneMenu>					            					        						        						          
					        </p:column>
					        					                					        					      
					    </p:dataTable>	
					    
					    <!-- Linha 7 -->
					<h:panelGrid columns="1">
						<p:outputLabel value="Observação :" />
						
						<p:inputTextarea autoResize="False" rows="2" id="txtObs" value="#{MBFamiliaMembro.familia.obs}" cols="95" disabled="true"/>						
					</h:panelGrid>
					    
					    <!-- Linha 5 -->	
					<p:fieldset legend="Endereço" toggleable="false">
										
					<h:panelGrid columns="5">
						<p:outputLabel value="Estado:" />
						<h:inputHidden />
						<p:outputLabel value="Cidade:" />
						<h:inputHidden />
						<p:outputLabel value="Bairro:" />

						<p:selectOneMenu style="width:80px;" id="cbEstado" value="#{MBFamiliaMembro.estadoSelecionado}"
						    converter="omnifaces.SelectItemsConverter" filter="true" filterMatchMode="contains" disabled="true" >
						<f:selectItem noSelectionOption="true" itemLabel="Selecione" />
						<f:selectItems value="#{MBFamiliaMembro.listaEstado}"
							var="estado" itemValue="#{estado}" itemLabel="#{estado.sigla}" />						
						</p:selectOneMenu>
						<p:spacer width="2px;" />

						<p:selectOneMenu style="width:270px;" id="cbCidade" value="#{MBFamiliaMembro.cidadeSelecionado}"
						    converter="omnifaces.SelectItemsConverter" filter="true"
							filterMatchMode="contains" disabled="true" >
						<f:selectItem noSelectionOption="true" itemLabel="Selecione" />
						<f:selectItems value="#{MBFamiliaMembro.listaCidade}"
							var="cidade" itemValue="#{cidade}" itemLabel="#{cidade.nome}" />						
						</p:selectOneMenu>
						<p:spacer width="2px;" />

						<p:selectOneMenu style="width:190px;" id="cbBairro" value="#{MBFamiliaMembro.bairroSelecionado}"
							converter="omnifaces.SelectItemsConverter" filter="true"
							filterMatchMode="contains" disabled="true">
						<f:selectItem noSelectionOption="true" itemLabel="Selecione" />
						<f:selectItems value="#{MBFamiliaMembro.listaBairro}"
							var="bairro" itemValue="#{bairro}" itemLabel="#{bairro.nome}" />						
						</p:selectOneMenu>
						<p:spacer width="2px;" />
						</h:panelGrid>

					<!-- Linha 6 -->
					<h:panelGrid columns="7">
						<p:outputLabel value="Logradouro:" />
						<h:inputHidden />
						<p:outputLabel value="Numero:" />
						<h:inputHidden />
						<p:outputLabel value="Complem.:" />
						<h:inputHidden />
						<p:outputLabel value="CEP:" />

						<p:selectOneMenu style="width:398px;" id="cbLogradouro" value="#{MBFamiliaMembro.logradouroSelecionado}"
							converter="omnifaces.SelectItemsConverter" filter="true" filterMatchMode="contains" disabled="true" >
						<f:selectItem noSelectionOption="true" itemLabel="Selecione" />
						<f:selectItems value="#{MBFamiliaMembro.listaLogradouro}"
							var="logradouro" itemValue="#{logradouro}" itemLabel="#{logradouro.nome}" />
						</p:selectOneMenu>
						<p:spacer width="2px;" />
						
						<p:inputText value="#{MBFamiliaMembro.familia.numero}" size="4" disabled="true"/>
						<p:spacer width="2px;" />
						
						<p:inputText value="#{MBFamiliaMembro.familia.complemento}" size="4" disabled="true" />
						<p:spacer width="2px;" />
						
						<p:inputMask id="cep" value="#{MBFamiliaMembro.logradouroSelecionado.cep}" disabled="true" mask="99999-999" size="4" />
					</h:panelGrid>
					</p:fieldset>		   					    					    			

						<h:panelGrid id="grdBotoes" style="margin: 10px auto;" columns="2" >
							<p:commandButton value="Salvar"
								actionListener="#{MBFamiliaMembro.salvar}" update=":formGrid ,:msgs1" />
							<p:commandButton value="Voltar" title="Cadastro do Núcleo Familiar"
								action="#{MBFamiliaMembro.preparaMostraDados}" immediate="true" />
						</h:panelGrid>
					
				</h:form>								
			</p:panel>
			
		</ui:define>
	</ui:composition>
</h:body>

</html>