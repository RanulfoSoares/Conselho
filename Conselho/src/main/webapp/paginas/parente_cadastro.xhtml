<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets">

  <h:body>
	<ui:composition template="template_adm.xhtml">
		<ui:define name="content">				

		<p:panel header=" Cadastro de Parente Menor">
			
			<p:messages id="msgs1" showDetail="true">
			 	<p:effect type="pulsate" event="load" delay="500" />
			</p:messages>
			
		  <h:form id="formResp">										
				
			<h:panelGrid columns="4" style="margin: 18px 30px;" >						
					<h:outputText value="Ref. Criança/Adolescente:" />
					<h:outputText value="#{MBParenteCadastro.nomeCriancaSelecionado}" styleClass="texto_informativo" />		
			</h:panelGrid>
			
			<h:panelGrid style="margin: 10px auto;" columns="5" >
				
				<p:selectOneRadio id="tpBusca" value="#{MBParenteCadastro.tipoBusca}" >							
					<f:selectItem itemLabel="CPF" itemValue="CPF" />							
					<f:selectItem itemLabel="RG" itemValue="RG" />
					<f:selectItem itemLabel="Cert.Nasc." itemValue="CrtNasc" />
					<p:ajax event="click" listener="#{MBParenteCadastro.alteraComboBusca}" update=":formResp" />
				</p:selectOneRadio>
				<p:inputText value="#{MBParenteCadastro.documentoBusca}" size="15" maxlength="15" />
				
				<p:selectOneMenu style="width:90px;" id="cbOrgaoBusca" disabled="#{!MBParenteCadastro.renderizaOrgao}"
						value="#{MBParenteCadastro.orgaoSelecionado}"
						converter="omnifaces.SelectItemsConverter" filter="true"
						filterMatchMode="contains">
		           <!--<f:selectItem noSelectionOption="true" itemLabel="Orgão" itemValue="" /> -->
						<f:selectItems
							value="#{MBParenteCadastro.listaOrgaoBusca}"
							var="orgao" itemValue="#{orgao}"
							itemLabel="#{orgao.nome}" />
				</p:selectOneMenu>	
				   <p:commandButton value="Buscar" title="Busca responsável" actionListener="#{MBParenteCadastro.buscaPessoa}" update=":msgs1, :formGrid" />
			       <p:commandButton value="Voltar" action="#{MBParenteCadastro.navegaParenteMenor}" />																				
		
				</h:panelGrid>
						
		  </h:form>
			
			<h:form id="formGrid">	
					
				<h:panelGrid rendered="#{MBParenteCadastro.renderizaGridPessoa}">
				
					<!-- Linha 1 -->
					<h:panelGrid columns="3" style="margin-top: 20px;">
						<p:outputLabel value="Data Cadastro :" />
						<h:inputHidden />
						<p:outputLabel value="Conselheiro :" />
							                            
						<p:inputText value="#{MBParenteCadastro.dataCadastroFormatada}" size="10" disabled="true" />
						<p:spacer width="10px;" />
						<p:inputText value="#{MBParenteCadastro.criancaParente.pessoa.conselheiro}" size="31" disabled="true" />
				    </h:panelGrid>
		
		               <!-- Linha 2 -->
					<h:panelGrid columns="7">
						<p:outputLabel value="Criança Adolescente :" />
						<h:inputHidden />
						<p:outputLabel value="CPF:" />
						<h:inputHidden />
						<p:outputLabel value="RG:" />
						<h:inputHidden />
						<p:outputLabel value="Org. Emissor:" />
		
						<p:inputText value="#{MBParenteCadastro.criancaParente.pessoa.nomeCompleto}" size="39" disabled="true" />
						<p:spacer width="10px;" />
						<p:inputText value="#{MBParenteCadastro.criancaParente.pessoa.cpf}" size="9" disabled="true"/>															
						<p:spacer width="10px;" />
						<p:inputText value="#{MBParenteCadastro.criancaParente.pessoa.rg}" size="9" maxlength="9" disabled="true" />
						<p:spacer width="10px;" />
						<p:inputText value="#{MBParenteCadastro.criancaParente.pessoa.orgao.nome}" size="6" disabled="true"/>
				    </h:panelGrid>
		
		               <!-- Linha 3 -->
				    <h:panelGrid columns="9">
						<p:outputLabel value="Cert.Nasc." />
						<h:inputHidden />
						<p:outputLabel value="Data Nasc.:" />
						<h:inputHidden />
						<p:outputLabel value="Idade:" />
						<h:inputHidden />
						<p:outputLabel value="Fone I:" />
						<h:inputHidden />
						<p:outputLabel value="Fone II:" />
		
						<p:inputText value="#{MBParenteCadastro.criancaParente.pessoa.numeroCertidaoNascimento}" size="10" disabled="true"/>
						<p:spacer width="11px;" />
						<p:inputText value="#{MBParenteCadastro.dataNascFormatada}" size="7" disabled="true"/>
						<p:spacer width="11px;" />
						<p:inputText value="#{MBParenteCadastro.criancaParente.pessoa.idade}" size="5" disabled="true" />
						<p:spacer width="10px;" />
						<p:inputText value="#{MBParenteCadastro.criancaParente.pessoa.foneI}" size="12" disabled="true"/>
						<p:spacer width="11px;" />
						<p:inputText value="#{MBParenteCadastro.criancaParente.pessoa.foneII}" size="12" disabled="true"/>
				    </h:panelGrid>
		
		                <!--Linha 4 -->
				    <h:panelGrid columns="7">
						<p:outputLabel value="Sexo:" />
						<h:inputHidden />
						<p:outputLabel value="Cor:" />
						<h:inputHidden />
						<p:outputLabel value="Escolaridade:" />
						<h:inputHidden />
						<p:outputLabel value="Escola:" />
		
						<p:inputText value="#{MBParenteCadastro.criancaParente.pessoa.sexo == 'M' ? 'Masculino' : 'Feminino'}" size="7" disabled="true"/>
						<p:spacer width="5px;" />
						<p:inputText value="#{MBParenteCadastro.cor}" size="7" disabled="true"/>							
						<p:spacer width="6px;" />
						<p:inputText value="#{MBParenteCadastro.criancaParente.pessoa.escolaridade.nome}" size="20" disabled="true"/>							
						<p:spacer width="6px;" />
						<p:inputText value="#{MBParenteCadastro.criancaParente.escola.fantasia}" size="31" disabled="true"/>
			    	</h:panelGrid>
		
		                <!--Linha 5 -->
				    <h:panelGrid columns="5">
						<p:outputLabel value="Trabalha:" />
						<h:inputHidden />
						<p:outputLabel value="Local trabalho:" />
						<h:inputHidden />
						<p:outputLabel value="Grau de Parentesco:" />
														
						<p:inputText value="#{MBParenteCadastro.criancaParente.pessoa.trabalha == 'N' ? 'Não' : 'Sim' }" size="7" disabled="true"/>
					    <p:spacer width="5px;" />      	       
						<p:inputText value="#{MBParenteCadastro.criancaParente.pessoa.localTrabalho}" size="40" disabled="true"/>
						<p:spacer width="5px;" />
						<p:selectOneMenu style="width:210px;" id="cbParentesco" value="#{MBParenteCadastro.grauDeParentescoSelecionado}" converter="omnifaces.SelectItemsConverter" filter="true" ilterMatchMode="contains" >
						<f:selectItem noSelectionOption="true" itemLabel="Selecione" />
						<f:selectItems value="#{MBParenteCadastro.listaParentesco}"
							var="parentesco" itemValue="#{parentesco}"
							itemLabel="#{parentesco.nome}" />
					    </p:selectOneMenu>
				    </h:panelGrid>
				    
		                  <!--Linha 6 -->
				    <h:panelGrid id="grdBotoes" style="margin: 10px auto;" columns="2" > 
						<p:commandButton value="Criar Vinculo" title="Vincular com Criança/Adolescente" actionListener="#{MBParenteCadastro.criaVinculo}" update=":msgs1, :formGrid" />
						<p:commandButton value="Voltar" action="#{MBParenteCadastro.navegaParenteMenor}" />
					</h:panelGrid> 
											   				   	
				</h:panelGrid> 
																
				</h:form>						
	   </p:panel>
	</ui:define>
	</ui:composition>
</h:body>

</html>